<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				padding: 0px;
				margin: 0px;
			}
body{
	text-align: center;
}
			canvas {
				display: inline-block;
				margin: 100px auto;
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="534" height="300"></canvas>
		<script type="text/javascript">
			(function() {
				var a = document.getElementById('canvas');
				var ctx = a.getContext('2d');
				var x = 0,
					y = 0,
					width = 50,
					height = 50;

				ctx.beginPath();
				var speedX = 2;
				var speedY = 2;
				function aa(){
					ctx.clearRect(0, 0, canvas.width, canvas.height);
					x += speedX;
					y += speedY;
					if (x > canvas.width - width) {
						speedX *= -1;
						console.log('111+'+speedX)
					} else if (x < 0) {
						speedX *= -1;
						console.log('222+'+speedX)
					}
					if (y > canvas.height - height) {
						speedY *= -1
					} else if (y < 0) {
						speedY *= -1
					}
					ctx.fillStyle='red'
					ctx.fillRect(x,y,width,height)
					window.requestAnimationFrame(aa)
				}
				aa()
				// setInterval(() => {
				// 	ctx.clearRect(0, 0, canvas.width, canvas.height);
				// 	x += speedX;
				// 	y += speedY;
				// 	if (x > canvas.width - width) {
				// 		speedX *= -1;
				// 		console.log('111+'+speedX)
				// 	} else if (x < 0) {
				// 		speedX *= -1;
				// 		console.log('222+'+speedX)
				// 	}
				// 	if (y > canvas.height - height) {
				// 		speedY *= -1
				// 	} else if (y < 0) {
				// 		speedY *= -1
				// 	}
				// 	ctx.fillStyle='red'
				// 	ctx.fillRect(x,y,width,height)
				// }, 20)

			}())
		</script>
	</body>
</html>
