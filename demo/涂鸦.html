<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				padding: 0px;
				margin: 0px;
			}

			body {
				text-align: center;
				padding-top: 20px;
			}

			#canvas {
				box-shadow: 0 0 10px orange;
				margin: 20px auto;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="500" height="400"></canvas>
		<script type="text/javascript">
			(function() {
				var a = document.getElementById('canvas');
				var ctx = a.getContext('2d');
				a.onmousedown = function(e) {
					var ev = e || window.event;
					var x = ev.clientX - canvas.offsetLeft;
					var y = ev.clientY - canvas.offsetTop;
					ctx.strokeStyle = 'green';
					ctx.lineWidth = 5;
					ctx.beginPath();
					ctx.moveTo(x, y);
					canvas.onmousemove = function(e) {
						var ev = e || window.event;
						var x = ev.clientX - canvas.offsetLeft;
						var y = ev.clientY - canvas.offsetTop;
						ctx.lineTo(x, y);
						ctx.stroke();
						console.log(x, y)
					}
					canvas.onmouseup = function() {
						canvas.onmousemove = null
					}
				}
			}())
		</script>
	</body>
</html>
